appSync:
    name: ${self:custom.base}-api
    authenticationType: AWS_IAM
    logConfig:
      loggingRoleArn: ${self:custom.role.logging.arn}
      level: ALL
    # appsync mapping details(mutation and query resolvers template added in respective path)
    mappingTemplates:
        ##################Mutation###########
      - dataSource: ${self:custom.AppsyncFunction.mutation.resolver1.dataSource}
        type: Mutation
        field: ${self:custom.AppsyncFunction.mutation.resolver1.field}
        request: "${self:custom.AppsyncFunction.mutation.resolver1.request}"
        response: "${self:custom.AppsyncFunction.mutation.resolver1.response}"
        ##################Query###########
      - dataSource: ${self:custom.AppsyncFunction.query.resolver1.dataSource}
        type: Query
        field: ${self:custom.AppsyncFunction.query.resolver1.field}
        request: "${self:custom.AppsyncFunction.query.resolver1.request}"
        response: "${self:custom.AppsyncFunction.query.resolver1.response}"

    # appsync dataSources types and other details
    mappingTemplatesLocation: "mapping-templates"
    serviceRole: AppSyncServiceRole
    dataSources:
        ############## mutation  ##############
      - type: ${self:custom.AppsyncFunction.mutation.resolver1.type} #1 
        name: ${self:custom.AppsyncFunction.mutation.resolver1.dataSource}
        description: ${self:custom.AppsyncFunction.mutation.resolver1.desc}
        ####################   Query   ###########
      - type: ${self:custom.AppsyncFunction.query.resolver1.type} #1 
        name: ${self:custom.AppsyncFunction.query.resolver1.dataSource}
        description: ${self:custom.AppsyncFunction.query.resolver1.desc}
        config: # increase the array number in lambdaFunctionArn to get arn of below functionName 
          functionName: ${self:custom.AppsyncFunction.query.resolver1.fullName}
          lambdaFunctionArn: '${self:custom.role.baseLambdaArn}:${self:custom.AppsyncFunction.query.resolver1.fullName}'
